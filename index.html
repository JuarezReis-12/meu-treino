
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treino</title>
</head>
<body>
    <div class="container">
        <h2>Registre seu Treino</h2>
        
        <input type="text" id="exercise" placeholder="Exerc√≠cio">
        <input type="number" id="series" placeholder="S√©ries">
        <input type="number" id="reps" placeholder="Repeti√ß√µes">
        <input type="number" id="weight" placeholder="Carga (kg)">
        <button id="addButton">Adicionar</button>

        <h2>Treinos Salvos</h2>
        <ul id="exerciseList"></ul>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBw9yVvY1T-HFs6CF5ttKgDGafpKW1xr8o",
            authDomain: "meu-treino-cd8f9.firebaseapp.com",
            projectId: "meu-treino-cd8f9",
            storageBucket: "meu-treino-cd8f9.firebasestorage.app",
            messagingSenderId: "993126178625",
            appId: "1:993126178625:web:6425d4a03cf0b41e544bc0"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Fun√ß√£o para adicionar o treino
        async function addExercise() {
            let exercise = document.getElementById("exercise").value;
            let series = document.getElementById("series").value;
            let reps = document.getElementById("reps").value;
            let weight = document.getElementById("weight").value;

            if (exercise && series && reps && weight) {
                await addDoc(collection(db, "exercises"), {
                    exercise,
                    series,
                    reps,
                    weight
                });

                // Limpar os campos ap√≥s o cadastro
                document.getElementById("exercise").value = "";
                document.getElementById("series").value = "";
                document.getElementById("reps").value = "";
                document.getElementById("weight").value = "";

                loadExercises();
            } else {
                alert("Preencha todos os campos!");
            }
        }

        // Fun√ß√£o para carregar os treinos
        async function loadExercises() {
            const querySnapshot = await getDocs(collection(db, "exercises"));
            let list = document.getElementById("exerciseList");
            list.innerHTML = "";

            querySnapshot.forEach((doc) => {
                let data = doc.data();
                let li = document.createElement("li");
                li.innerHTML = `${data.exercise} - ${data.series} s√©ries - ${data.reps} reps - ${data.weight} kg 
                    <button class="delete" onclick="deleteExercise('${doc.id}')">üóëÔ∏è</button>`;
                list.appendChild(li);
            });
        }

        // Fun√ß√£o para deletar o treino
        async function deleteExercise(id) {
            await deleteDoc(doc(db, "exercises", id));
            loadExercises();
        }

        // Evento para o bot√£o de adicionar treino
        document.getElementById("addButton").addEventListener("click", addExercise);

        // Carregar os treinos quando a p√°gina carregar
        document.addEventListener("DOMContentLoaded", loadExercises);
    </script>
</body>

</html>